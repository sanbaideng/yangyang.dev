---
Название: Grep
дата: 2020-11-25 18:28:43
фон: bg-emerald-400
теги:
    - egrep
    - поиск
    - шаблон
    - текст
категории:
    - Команда Linux
Введение: Эта шпаргалка предназначена для быстрого напоминания основных понятий, связанных с использованием программы командной строки grep, и предполагает, что вы уже понимаете ее назначение.
плагины:
    - copyCode
---

Начало работы {.cols-5}
---------------

### Использование {.col-span-2}
Поиск стандартного вывода (т.е. потока текста)
Шелл-скрипт
$ grep [options] search_string
```

Поиск точной строки в файле:
```шелл-скрипт
$ grep [options] search_string path/to/file
```

Вывести строки в файле myfile.txt, содержащие строку "mellon"
```Шелл-скрипт
$ grep 'mellon' myfile.txt
```

В имени файла допускаются подстановочные знаки.




### Примеры опций {.col-span-3}

| Опция | Пример | Операция |
|--------|---------------------------------------|------------------------------------------------------|
| `-i` | grep -i ^DA demo.txt | Забывает о чувствительности к регистру |
| `-w` | grep -w "of" demo.txt | Искать только полное слово |
| `-A` | grep -A 3 'Exception' error.log | Выводить 3 строки после совпадения |
| `-B` | grep -B 4 'Exception' error.log | Отобразить 4 строки до совпадающей строки |
| `-C` | grep -C 5 'Exception' error.log | Отобразить 5 строк вокруг совпадающей строки |
| `-r` | grep -r 'cheatsheets.zip' /var/log/nginx/ | Рекурсивный поиск _(в пределах подкаталогов)_ |
| `-v` | grep -v 'warning' /var/log/syslog | Вернуть все строки, не соответствующие шаблону |
| `-e` | grep -e '^al' filename | Использовать regex _(строки, начинающиеся с 'al')_ |
| `-E` | grep -E 'ja(s\|cks)on' filename | Extended regex _(строки, содержащие jason или jackson)_ |
| `-c` | grep -c 'error' /var/log/syslog | Подсчитать количество совпадений |
| `-l` | grep -l 'robot' /var/log/* | Вывести имя файла(ов) совпадений |
| | `-o` | grep -o search_string filename | Вывести только совпадающую часть строки |
| `-n` | grep -n "go" demo.txt | Показать номера строк с совпадениями |


Регулярные выражения Grep
---------------

### Refer
- [Синтаксис Regex](/regex) _(cheatsheets.zip)_
- [Примеры Regex](/regex#regex-examples) _(cheatsheets.zip)_

Для решения более сложных задач обратитесь к полной версии шпаргалки по regex.

### Дикие символы

| - | - |
|-----------------|----------------------------------------|
| .               | Любой символ.                         |
| `?            ` | Необязательный и может встречаться только один раз.      |
| | `* ` | Необязательный и может встречаться более одного раза. |
| | `+ ` | Обязательно и может встречаться более одного раза. |

### Квантификаторы

| - | - |
|-----------------|----------------------------------------------|
| `{n}` | Предыдущий элемент появляется ровно n раз.       |
| `{n,}` | Предыдущий элемент появляется n или более раз.       |
| `{,m} ` | Предыдущий элемент появляется максимум n раз.       |
| `{n,m} ` | Предыдущий элемент появляется от n до m раз. |

### POSIX
| - | - |
|-----------------|-------------------------------------------|
| `[:alpha:] ` | Любая строчная и прописная буква.          |
| `[:digit:] ` | Любое число.                               |
| | `[:alnum:] ` | Любая строчная и прописная буква или цифра. |
| | `[:пробел:] ` | Любой пробел.                          |

### Символ

| - | - |
|-----------------|-------------------------------------------|
| `[A-Za-z] ` | Любая строчная и прописная буква.          |
| `[0-9] ` | Любая цифра.                               |
| | `[0-9A-Za-z]` | Любая строчная и прописная буква или цифра. |


### Позиция

| | |
|------|--------------------|
| `^ ` | Начало строки. |
| `$ ` | Конец строки.       |
| | `^$` | Пустая строка.        |
| | `\<` | Начало слова.     |
| | `\>` | Конец слова.       |


